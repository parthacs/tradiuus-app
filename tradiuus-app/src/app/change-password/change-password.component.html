<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/login" text=""></ion-back-button>
    </ion-buttons>
    <div class="logo-container">
      <img src="assets/icon/tradiuus-logo.svg" alt="TRADIUUS" class="logo" onerror="this.src='assets/icon/favicon.png'">
    </div>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div class="change-password-section">
    <h1>Change Password</h1>
    <p>Please enter your new password below.</p>

    <form (ngSubmit)="changePassword()" [formGroup]="changePasswordForm">
      <div class="form-field">
        <label>New Password</label>
        <div class="input-container">
          <input
            [type]="showPassword ? 'text' : 'password'"
            formControlName="newPassword"
            class="custom-input"
            placeholder="Enter new password">
          <ion-icon [name]="showPassword ? 'eye-off' : 'eye'" (click)="togglePasswordVisibility()"></ion-icon>
        </div>
        <div *ngIf="changePasswordForm.get('newPassword')?.invalid && (changePasswordForm.get('newPassword')?.dirty || changePasswordForm.get('newPassword')?.touched)" class="validation-error">
          <div *ngIf="changePasswordForm.get('newPassword')?.errors?.[ 'required']">New password is required.</div>
          <div *ngIf="changePasswordForm.get('newPassword')?.errors?.[ 'minlength']">Password must be at least 6 characters long.</div>
        </div>
      </div>

      <div class="form-field">
        <label>Confirm Password</label>
        <div class="input-container">
          <input
            [type]="showPassword ? 'text' : 'password'"
            formControlName="confirmPassword"
            class="custom-input"
            placeholder="Confirm new password">
          <ion-icon [name]="showPassword ? 'eye-off' : 'eye'" (click)="togglePasswordVisibility()"></ion-icon>
        </div>
        <div *ngIf="changePasswordForm.get('confirmPassword')?.invalid && (changePasswordForm.get('confirmPassword')?.dirty || changePasswordForm.get('confirmPassword')?.touched)" class="validation-error">
          <div *ngIf="changePasswordForm.get('confirmPassword')?.errors?.[ 'required']">Confirm password is required.</div>
        </div>
        <div *ngIf="changePasswordForm.errors?.['mismatch'] && changePasswordForm.get('confirmPassword')?.touched" class="validation-error">
          Passwords do not match.
        </div>
      </div>

      <button type="submit" class="change-button-primary" [disabled]="changePasswordForm.invalid">
        Change Password
      </button>
    </form>
  </div>
</ion-content> 